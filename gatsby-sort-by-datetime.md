[この記事]()でも触れましたが、Gatsbyはどうやらfrontmatterにおいて日付の書き方を間違えると、時間ソートがうまく働いてくれないようです。

注意：この記事はAIの情報を基にして、人の手で書いています。裏取りはしましたが、不正確な情報があったらお知らせください。

## 【Gatsby/Markdownブログ初心者向け】そもそも「frontmatter」とは？

**frontmatter**とは、Markdownの上に書いてあるコレのことをいいます。

```md
---
a: b;
---
```

この記法は**yaml**（yml）というデータ記法に準じています。どことなくJSONに似ていますが、波括弧はなくインデントで階層を管理します。

見て分かる通り、左に項目名を書き、右に値を入れます。左の項目名は、Gatsbyであれば自分で作成・定義することもできます。

このとき、右の値はダブルクォートで囲うのが適切ですが、場面により必須ではありません。

なお、改行したいときや複数項目を書きたいときは以下のように書きます。ただし、このfrontmatterを読み込むスクリプトが想定していないような値を入れれば当然エラーが起きますので、注意して記入してください。

```md
```

## 日付を表す形式

### AIに聞いてみた

検索とコード生成が優秀なBing AIに聞いてみました。なお、文脈を読むのは苦手らしく、会話ははっきり言って支離滅裂だったので全文は割愛します。

どうやら、日付を表す文字列の形式が複数あるらしいです。

### ISO8601形式

`2024-03-14 14:30:00 +09:00`のような書き方は、ISO 8601形式というようです。

この+09:00というのは、国際標準時UTCからの時差を表し、これをつけることでその左の時間が日本時間であることを表します。

このサイトのテンプレートは、この形式で時刻を表現していました。

### ISO形式

`2020-03-17T12:00:00.000Z`のような書き方もISOの形式ですが、表現方法が異なっています。

そして、**Gatsbyではこちらの記法を用いなければならない**ようです。エラーは出ませんが、GraphiQLでソートするときに時刻を認識してくれなくなり、無視した結果が出てきます。

### 時差を表現するには

スペースを開けずに+09:00と付け加えればOKです。

## ソートができたか確認する

手っ取り早く検証するためには、やはり`https://localhost:8000/___graphql`にアクセスして、クエリを突っ込むのが楽です。

この時、返ってくるデータの「date」に時刻は入っていないはずですが、しっかり時間順でソートできていることが確認できるはずです。

## 余談（宣伝）

普通、私にとって1日に2本記事を更新することすらごくごく珍しいのですが、昨日何故か7件も記事を同時更新してしまい、このような検証をする機会ができてしまいました。

良ければ、昨日更新した他の記事も読んでやってください。

-
-
-
-
-
-
-