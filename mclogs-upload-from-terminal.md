---
title: "サーバーのログファイルを簡単に共有する方法"
category: "Minecraft"
date: "2024-05-12T12:00:00+09:00"
desc: "マインクラフトでクラッシュした時に、簡単にログファイルを共有しよう！"
tags:
  - 生活
---
## やり方
<fileName>のところをファイルへのパスに置き換えれば使えます。
```bash
curl -X POST -F 'content=$(cat <fileName>)' https://api.mclo.gs/1/log
```

## どうしてログファイルの共有を簡単にやりたかったのか
マイクラサーバーを運営しているのですが、ある日、突然サーバーがクラッシュしてしまって
私: Yさん助けてー
Yさん: ログファイル見せてくれないと何もわからないよ...?
私: ログファイル？どうやって渡せばいいの？
となって、「簡単にやる方法ないのかな...」となったからです。

## とりあえずチャレンジ
APIの仕様を見て、mclo.gsに直接ubuntuサーバーなどのターミナルからログを上げてみます。

(これは動きません...)
```bat
curl -X POST -F 'content=./crash-2024-08-08_02.26.38-server.txt' https://api.mclo.gs/1/log
```
だとファイル名だけが上がってしまいます。

## 友人に助けてもらった
どうやら、いい感じにやる方法があるらしく、二つほど教えてもらいました。
Bashのリダイレクトを使って挿入
```bat
curl -X POST -d "content=$(<crash-2024-08-08_02.26.38-server.txt)" https://api.mclo.gs/1/log
```

Catコマンドの実行結果を挿入
```bat
curl -X POST -d "content=$(cat crash-2024-08-08_02.26.38-server.txt)" https://api.mclo.gs/1/log
```

を打つと良いと回答が来ました。実際に動いたので、URL先を見てみるとなぜか動きました。不思議でしょうがありません。記号がファイル名に入っているのが問題なのかはさっぱりですが、とりあえず動いたのでここにメモとして残します。

https://api.mclo.gs
